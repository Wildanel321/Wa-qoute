<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quote WA ¬∑ latar random</title>
    <!-- Google Font untuk kesan modern -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,400;14..32,500;14..32,600&display=swap" rel="stylesheet">
    <!-- Font Awesome 6 (free) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(145deg, #0b1a1e 0%, #1d2f35 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-radius: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.45), 0 0 0 1px rgba(255,255,255,0.05);
            width: 100%;
            max-width: 800px;
            padding: 2.5rem 2.2rem;
            transition: all 0.2s ease;
        }

        h1 {
            font-size: 2rem;
            font-weight: 600;
            letter-spacing: -0.01em;
            color: white;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 0.25rem;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        h1 i {
            color: #c3f2ff;
            font-size: 2rem;
        }

        .subhead {
            color: rgba(255,255,255,0.75);
            font-weight: 400;
            margin-bottom: 2rem;
            border-left: 5px solid #80deea;
            padding-left: 1rem;
            background: rgba(0,0,0,0.1);
            border-radius: 0 12px 12px 0;
            line-height: 1.5;
        }

        /* area tulis quotes */
        .input-area {
            background: rgba(0, 0, 0, 0.25);
            border-radius: 28px;
            padding: 1.8rem 1.8rem 1.5rem;
            margin-bottom: 2.3rem;
            border: 1px solid rgba(255,255,255,0.15);
        }

        label {
            display: block;
            color: #e0f2fe;
            font-weight: 500;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 0.8rem;
        }

        label i {
            margin-right: 8px;
            color: #9ad9e6;
        }

        textarea {
            width: 100%;
            background: rgba(10, 25, 30, 0.8);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 24px;
            padding: 1.2rem 1.5rem;
            font-size: 1.1rem;
            color: white;
            font-family: 'Inter', sans-serif;
            resize: vertical;
            line-height: 1.5;
            outline: none;
            transition: all 0.25s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        textarea:focus {
            border-color: #7fd1de;
            background: rgba(10, 30, 35, 0.95);
            box-shadow: 0 0 0 4px rgba(127, 209, 222, 0.2);
        }

        textarea::placeholder {
            color: rgba(200, 235, 245, 0.5);
            font-style: italic;
            font-weight: 300;
        }

        .btn-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.5rem;
            flex-wrap: wrap;
            gap: 12px;
        }

        .btn {
            border: none;
            padding: 0.85rem 1.8rem;
            border-radius: 40px;
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            background: white;
            color: #0b2a2f;
            transition: 0.2s;
            cursor: pointer;
            border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .btn i {
            font-size: 1.1rem;
        }

        .btn-primary {
            background: #ffffff;
            color: #0c353b;
            flex: 1;
            justify-content: center;
        }

        .btn-primary:hover {
            background: #d2f1f9;
            transform: scale(1.02);
            border-color: #aae6f0;
        }

        .btn-outline-light {
            background: rgba(255,255,255,0.1);
            color: white;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.4);
        }

        .btn-outline-light:hover {
            background: rgba(255,255,255,0.25);
            backdrop-filter: blur(8px);
        }

        /* quote card ‚Äî background random diisi JS */
        .quote-card {
            background: #cbd5e0;  /* fallback, tapi akan ditimpah random */
            border-radius: 32px;
            padding: 2.2rem 2rem;
            box-shadow: 0 18px 30px -8px black;
            transition: background 0.4s cubic-bezier(0.2, 0.9, 0.3, 1), box-shadow 0.2s;
            border: 1px solid rgba(255,255,255,0.4);
            backdrop-filter: blur(4px);
            color: white;
            text-shadow: 0 2px 6px rgba(0,0,0,0.4);
            word-wrap: break-word;
            position: relative;
        }

        .quote-content {
            font-size: 1.6rem;
            font-weight: 500;
            line-height: 1.4;
            margin-bottom: 1rem;
            quotes: "‚Äú" "‚Äù" "‚Äò" "‚Äô";
            display: inline;
        }

        .quote-content::before {
            content: "‚Äú";
            font-size: 2.2rem;
            margin-right: 5px;
            opacity: 0.8;
        }

        .quote-content::after {
            content: "‚Äù";
            font-size: 2.2rem;
            margin-left: 5px;
            opacity: 0.8;
        }

        .quote-footer {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-top: 0.8rem;
            font-size: 1.1rem;
            font-weight: 400;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        .wa-icon {
            background: rgba(0,0,0,0.3);
            border-radius: 50px;
            padding: 0.5rem 1rem;
            font-size: 0.95rem;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
        }

        .empty-state {
            text-align: center;
            padding: 2.5rem 1.5rem;
            background: rgba(0,0,0,0.2);
            border-radius: 32px;
            color: rgba(255,255,255,0.7);
            font-size: 1.2rem;
            border: 1px dashed rgba(255,255,255,0.4);
            backdrop-filter: blur(4px);
        }

        .empty-state i {
            font-size: 2.8rem;
            margin-bottom: 1rem;
            color: #a6e4ed;
        }

        .footer-note {
            margin-top: 1.5rem;
            color: rgba(220, 248, 255, 0.7);
            text-align: center;
            font-size: 0.8rem;
            border-top: 1px solid rgba(255,255,255,0.15);
            padding-top: 1.5rem;
        }

        .footer-note i {
            margin: 0 4px;
        }

        /* animasi muncul */
        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(12px); }
            100% { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

<div class="glass-panel">
    <h1>
        <i class="fas fa-pen-fancy"></i> Quote WA ¬∑ latar random
    </h1>
    <div class="subhead">
        <i class="fas fa-palette" style="margin-right: 6px;"></i> 
        Tulis kata-kata, setiap muncul warna latar belakang berbeda.
    </div>

    <!-- FORM TULIS QUOTE -->
    <div class="input-area">
        <label for="quoteInput">
            <i class="fas fa-quote-right"></i> Tulis quote kamu
        </label>
        <textarea id="quoteInput" rows="3" placeholder="Misal: Hidup bukan tentang menemukan diri sendiri, tapi tentang menciptakan diri sendiri..."></textarea>
        
        <div class="btn-group">
            <button class="btn btn-primary" id="submitBtn">
                <i class="fas fa-magic"></i> Munculkan dengan random background
            </button>
            <button class="btn btn-outline-light" id="resetBtn" title="Hapus quote & reset">
                <i class="fas fa-eraser"></i> <span class="hide-mobile">Hapus</span>
            </button>
        </div>
    </div>

    <!-- TEMPAT QUOTE AKAN MUNCUL (background random) -->
    <div id="quoteContainer">
        <!-- secara default menampilkan empty state (belum ada quote) -->
        <div class="empty-state" id="emptyState">
            <i class="fas fa-cloud-moon"></i>
            <p>Belum ada quote. Tulis sesuatu di atas ‚ú®</p>
        </div>
    </div>
    
    <div class="footer-note">
        <i class="fas fa-bolt"></i> background berganti tiap submit ‚Ä¢ <i class="fas fa-whatsapp"></i> siap pakai
    </div>
</div>

<script>
    (function() {
        "use strict";

        // ---------- PALETTE WARNA RANDOM (vibrant, soft, gelap, pastel ‚Äî tetap kontras dengan teks putih) ----------
        const BG_COLORS = [
            "#1A4E5F", // teal dalam
            "#2C5F2D", // hijau hutan
            "#5D2E46", // merah anggur
            "#2D3047", // navy
            "#6B4E71", // lavender gelap
            "#9E5A63", // rose dusty
            "#3C6E71", // biru kehijauan
            "#5F4E3C", // coklat army
            "#284B63", // biru laut
            "#6A4E77", // ungu kecoklatan
            "#3B5249", // evergreen
            "#A53F2B", // terakota
            "#1F6E8C", // cyan navy
            "#5A3E36", // coklat espresso
            "#4C5760", // abu-abu arang
            "#7C606B", // dusty rose
            "#1E5956", // pinus
            "#4F6D7A", // steel blue
            "#5D737E", // abu biru
            "#6A7159", // zaitun
            "#5A464C", // plum gelap
            "#9C7E6B", // krem gelap
            "#7D5544", // sienna
            "#206660", // zamrud gelap
            "#5F5B6B", // abu lavender
            "#A55C4E", // bata merah
            "#48695C", // lumut
            "#616F7C", // abu biru
            "#6B4C4C", // coklat kemerahan
            "#12664F"  // hijau dalam
        ];

        // elemen penting
        const quoteInput = document.getElementById('quoteInput');
        const submitBtn = document.getElementById('submitBtn');
        const resetBtn = document.getElementById('resetBtn');
        const quoteContainer = document.getElementById('quoteContainer');
        const emptyStateDiv = document.getElementById('emptyState');

        // state: apakah sedang ada quote card?
        let currentQuoteCard = null; // akan diisi elemen quote-card jika ada

        // ---------- FUNGSI: ambil warna random dari array ----------
        function getRandomBgColor() {
            const randomIndex = Math.floor(Math.random() * BG_COLORS.length);
            return BG_COLORS[randomIndex];
        }

        // ---------- FUNGSI: render QUOTE dengan background random ----------
        function renderQuote(text) {
            // Hilangkan empty state jika ada
            if (emptyStateDiv) {
                emptyStateDiv.style.display = 'none';
            }

            // Cek apakah sudah ada quote-card, jika ada hapus (replace)
            if (currentQuoteCard) {
                currentQuoteCard.remove();
                currentQuoteCard = null;
            }

            // Bersihkan spasi berlebih, tapi jangan sampai teks kosong setelah trim? validasi
            const finalText = text.trim() === '' ? '‚ú® Quote tanpa kata? isi dulu ya ‚ú®' : text.trim();

            // 1. buat elemen card
            const card = document.createElement('div');
            card.className = 'quote-card fade-in';
            
            // 2. pilih warna RANDOM
            const randomColor = getRandomBgColor();
            card.style.backgroundColor = randomColor;
            // tambah sedikit efek gradasi halus (tetap warna solid tapi lebih hidup)
            card.style.background = `linear-gradient(145deg, ${randomColor} 0%, ${adjustColor(randomColor, -15)} 100%)`;
            
            // 3. isi konten quote
            // konten quote dan footer wa
            const quoteDiv = document.createElement('div');
            quoteDiv.className = 'quote-content';
            quoteDiv.textContent = finalText; // pakai textContent agar aman, tidak escape html

            const footerDiv = document.createElement('div');
            footerDiv.className = 'quote-footer';
            footerDiv.innerHTML = `<span class="wa-icon"><i class="fab fa-whatsapp"></i> WA ¬∑ quote</span>`;

            // susun
            card.appendChild(quoteDiv);
            card.appendChild(footerDiv);
            
            // simpan ke container
            quoteContainer.appendChild(card);
            currentQuoteCard = card;
        }

        // fungsi kecil: menggelapkan warna untuk gradasi (simple hex adjust)
        function adjustColor(hex, percent) {
            // sederhana, tidak terlalu akurat tapi cukup untuk memberi dimensi.
            try {
                let r = parseInt(hex.substring(1,3), 16);
                let g = parseInt(hex.substring(3,5), 16);
                let b = parseInt(hex.substring(5,7), 16);
                r = Math.max(0, Math.min(255, r + percent));
                g = Math.max(0, Math.min(255, g + percent));
                b = Math.max(0, Math.min(255, b + percent));
                return `#${((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)}`;
            } catch(e) {
                return hex;
            }
        }

        // ---------- FUNGSI: reset ke kondisi awal (hilangin quote, munculin empty) ----------
        function resetToEmpty() {
            // hapus quote card kalo ada
            if (currentQuoteCard) {
                currentQuoteCard.remove();
                currentQuoteCard = null;
            }
            // tampilkan empty state
            if (emptyStateDiv) {
                emptyStateDiv.style.display = 'flex';
                emptyStateDiv.style.flexDirection = 'column';
                emptyStateDiv.style.alignItems = 'center';
            }
            // kosongkan textarea (opsional, sesuai permintaan "hapus")
            quoteInput.value = '';
        }

        // ---------- FUNGSI: handle submit utama ----------
        function handleSubmit() {
            const rawText = quoteInput.value;
            
            if (rawText.trim() === '') {
                // jika kosong, kita tetap buat quote dengan teks default lucu, atau tidak usah? 
                // lebih baik beri pesan tapi tetap muncul dengan warna random
                renderQuote('üå∏ Ketik sesuatu yang indah...');
            } else {
                renderQuote(rawText);
            }
        }

        // ---------- EVENT LISTENERS ----------
        submitBtn.addEventListener('click', function(e) {
            e.preventDefault();
            handleSubmit();
        });

        // biar bisa tekan enter (tapi di textarea, enter biasanya newline, kita tetap pakai tombol)
        // untuk pengalaman: Ctrl+Enter atau Cmd+Enter submit
        quoteInput.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                e.preventDefault();
                handleSubmit();
            }
        });

        // reset: kosongkan dan kembalikan empty state
        resetBtn.addEventListener('click', function(e) {
            e.preventDefault();
            resetToEmpty();
        });

        // ---------- INISIALISASI: pastikan empty state tampil dengan benar, flex display ----------
        if (emptyStateDiv) {
            emptyStateDiv.style.display = 'flex';
            emptyStateDiv.style.flexDirection = 'column';
            emptyStateDiv.style.alignItems = 'center';
        }

        // Satu fitur tambahan: ketika halaman pertama dimuat, kita tidak ingin langsung ada quote.
        // Namun, jika user ingin contoh? biarkan empty state.
        // Tapi kita siapkan contoh jika ingin ‚Äî‚Äî tidak perlu, biarkan bersih.
        // Tapi boleh kasih contoh dengan klik contoh? tidak. murni sesuai keinginan.
        // Agar tidak terlalu kosong, kita bisa beri satu contoh default setelah load? 
        // Tergantung selera. Saya akan beri satu default subtle (jangan terlalu ramai) 
        // supaya user lihat contoh background random. Hanya jika empty.
        // Hanya jalankan sekali jika container masih kosong dan tidak ada quoteCard.
        window.addEventListener('load', function() {
            // Jika tidak ada quote card dan empty state ada, kita tidak tambah apa-apa.
            // tapi supaya lebih menggoda, kita tampilkan satu contoh quote ringan setelah 300ms?
            // Tapi tidak diminta user, saya comment saja. 
            // Sebagai gantinya biarkan empty state, biar user menulis sendiri.
            // Namun beri sedikit fallback: jika tidak ada interaksi, tetap empty.
            // Tidak perlu panggil renderQuote. 
            // Jadi biarkan seperti itu.
        });
    })();
</script>

<!-- sedikit style tambahan untuk mobile -->
<style>
    @media (max-width: 550px) {
        .glass-panel { padding: 1.8rem 1.2rem; }
        .quote-content { font-size: 1.3rem; }
        .btn-group .btn { padding: 0.7rem 1.2rem; }
        .hide-mobile { display: none; }
        h1 { font-size: 1.8rem; }
    }
    .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
</style>

</body>
</html>
